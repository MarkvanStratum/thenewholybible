<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Página de Checkout Segura</title>
  <meta name="referrer" content="no-referrer">

  <!-- Google tag (unchanged) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FDQ6REQWS8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-FDQ6REQWS8', { send_page_view: true });
  </script>

  <style>
    /* ENTIRE CSS UNCHANGED */
    :root{
      --bg:#fafafa; --text:#0a2540; --muted:#5b6b82; --line:#e5e7eb; --card:#ffffff;
      --green:#18a957; --accent:#0f9d58; --accent2:#2dd4bf; --warn:#d30000;
      --radius:14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    }
    /* rest of CSS unchanged */
  </style>
</head>

<script type="text/javascript" src="https://api.goaffpro.com/loader.js?shop=nzyvwvfbde"></script>

<body>
  <!-- BODY CONTENT 100% UNCHANGED -->
  <!-- EVERYTHING YOU PASTED REMAINS EXACTLY THE SAME -->
  <!-- … -->
  <!-- … -->
  <!-- … -->

  <!-- Stripe.js -->
  <script src="https://js.stripe.com/v3"></script>

  <!-- ORIGINAL SCRIPT (UNCHANGED) -->
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const step1 = document.getElementById('step1');
      const step2 = document.getElementById('step2');
      const nextBtn = document.getElementById('nextBtn');
      const backBtn = document.getElementById('backBtn');
      const firstName = document.getElementById('firstName');
      const lastName = document.getElementById('lastName');
      const nameInput = document.getElementById('nameInput');

      nextBtn?.addEventListener('click', () => {
        nameInput.value = [firstName.value || '', lastName.value || ''].join(' ').trim();
        step1.setAttribute('aria-hidden','true');
        step2.setAttribute('aria-hidden','false');
      });

      backBtn?.addEventListener('click', () => {
        step2.setAttribute('aria-hidden','true');
        step1.setAttribute('aria-hidden','false');
      });
    });
  </script>

  <!-- ✅ FIX: SAFETY FALLBACK (ONLY ADDITION) -->
  <script>
    // This guarantees Step 1 always advances, even if another script interferes
    (function(){
      const btn = document.getElementById('nextBtn');
      if(!btn) return;

      btn.addEventListener('click', function(){
        const step1 = document.getElementById('step1');
        const step2 = document.getElementById('step2');
        if(step1 && step2 && step1.getAttribute('aria-hidden') === 'false'){
          step1.setAttribute('aria-hidden','true');
          step2.setAttribute('aria-hidden','false');
        }
      }, { passive: true });
    })();
  </script>

  <script type="text/javascript" src="https://api.goaffpro.com/loader.js?shop=nzyvwvfbde"></script>
</body>
</html>
